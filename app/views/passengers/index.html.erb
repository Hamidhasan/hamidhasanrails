<h1>Listing passengers</h1>

<table>
  <tr>
    <th>Name</th>
    <th>Email</th>
    <th>Luggages</th>
    <th>Flights</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @passengers.each do |passenger| %>
  <tr>
    <td><%= passenger.name %></td>
    <td><%= passenger.email %></td>
    
    <td><% passenger.luggage.each do |luggage| %>
        <%= link_to luggage.description, luggage %>
        <%= ", " unless luggage == passenger.luggage.last %>
        <% end %></td>
        
    <td><% passenger.flight.each do |flight| %>
        <%= link_to flight.departure, flight %>
        <%= ", " unless flight == passenger.flight.last %>
        <% end %></td>
        
    <td><%= link_to 'Show', passenger %></td>
    <td><%= link_to 'Edit', edit_passenger_path(passenger) %></td>
    <td><%= link_to 'Destroy', passenger, confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<br />

<%= button_to 'New Luggage', new_luggage_path, class: 'small nice blue radius button', :method => :get %>
<%= button_to 'New Flight', new_flight_path, class: 'small nice blue radius button', :method => :get %>

